<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PermitAI - Construction Permit Assistance</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #6b73ff 0%, #000dff 100%);
        }
        .permit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .difficulty-easy {
            border-left: 4px solid #10b981;
        }
        .difficulty-medium {
            border-left: 4px solid #f59e0b;
        }
        .difficulty-hard {
            border-left: 4px solid #ef4444;
        }
        .chart-container {
            height: 300px;
        }
        #searchResults {
            max-height: 400px;
            overflow-y: auto;
        }
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="gradient-bg text-white">
        <div class="container mx-auto px-4 py-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-hard-hat text-3xl"></i>
                    <h1 class="text-2xl font-bold">PermitAI</h1>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#" class="hover:text-gray-200 font-medium">Home</a>
                    <a href="#" class="hover:text-gray-200 font-medium">Permit Directory</a>
                    <a href="#" class="hover:text-gray-200 font-medium">City Guides</a>
                    <a href="#" class="hover:text-gray-200 font-medium">Resources</a>
                </nav>
                <button class="md:hidden text-xl">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <div class="mt-12 mb-16 text-center">
                <h2 class="text-4xl md:text-5xl font-bold mb-4">Navigate Construction Permits with AI</h2>
                <p class="text-xl md:text-2xl mb-8 max-w-3xl mx-auto">Get personalized guidance for permits across 500+ US cities with real-time success data</p>
                
                <div class="max-w-2xl mx-auto relative">
                    <div class="relative">
                        <input type="text" id="searchInput" placeholder="Search permit types or cities..." 
                               class="w-full py-4 px-6 rounded-full shadow-lg text-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button class="absolute right-2 top-2 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div id="searchResults" class="hidden absolute z-10 w-full mt-2 bg-white rounded-lg shadow-xl">
                        <!-- Search results will appear here -->
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-12">
        <!-- Stats Section -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8 text-center">Real-Time Permit Statistics</h2>
            <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-md text-center">
                    <div class="text-4xl font-bold text-blue-600 mb-2">87%</div>
                    <div class="text-gray-600">Average Approval Rate</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md text-center">
                    <div class="text-4xl font-bold text-green-600 mb-2">14</div>
                    <div class="text-gray-600">Days Average Processing</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md text-center">
                    <div class="text-4xl font-bold text-purple-600 mb-2">1,240</div>
                    <div class="text-gray-600">Cities in Database</div>
                </div>
                <div class="bg-white p-6 rounded-xl shadow-md text-center">
                    <div class="text-4xl font-bold text-orange-600 mb-2">58</div>
                    <div class="text-gray-600">Permit Types Tracked</div>
                </div>
            </div>
        </section>

        <!-- Popular Permits Section -->
        <section class="mb-16">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-3xl font-bold">Popular Permit Types</h2>
                <a href="#" class="text-blue-600 hover:underline">View all permit types â†’</a>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <!-- Permit Card 1 -->
                <div class="permit-card difficulty-easy bg-white rounded-lg shadow-md overflow-hidden transition duration-300">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Residential Building Permit</h3>
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full">Easy</span>
                        </div>
                        <p class="text-gray-600 mb-4">Required for new home construction, additions, and major renovations.</p>
                        
                        <div class="flex justify-between text-sm mb-4">
                            <div>
                                <div class="font-medium text-gray-500">Approval Rate</div>
                                <div class="font-bold">92%</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Avg. Time</div>
                                <div class="font-bold">10 days</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Cost Range</div>
                                <div class="font-bold">$500-$5k</div>
                            </div>
                        </div>
                        
                        <button class="w-full bg-blue-100 text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-200 transition">
                            View Requirements
                        </button>
                    </div>
                </div>
                
                <!-- Permit Card 2 -->
                <div class="permit-card difficulty-medium bg-white rounded-lg shadow-md overflow-hidden transition duration-300">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Commercial Electrical Permit</h3>
                            <span class="bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded-full">Medium</span>
                        </div>
                        <p class="text-gray-600 mb-4">Required for electrical work in commercial buildings and multi-family dwellings.</p>
                        
                        <div class="flex justify-between text-sm mb-4">
                            <div>
                                <div class="font-medium text-gray-500">Approval Rate</div>
                                <div class="font-bold">78%</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Avg. Time</div>
                                <div class="font-bold">18 days</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Cost Range</div>
                                <div class="font-bold">$300-$2k</div>
                            </div>
                        </div>
                        
                        <button class="w-full bg-blue-100 text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-200 transition">
                            View Requirements
                        </button>
                    </div>
                </div>
                
                <!-- Permit Card 3 -->
                <div class="permit-card difficulty-hard bg-white rounded-lg shadow-md overflow-hidden transition duration-300">
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-4">
                            <h3 class="text-xl font-bold">Zoning Variance</h3>
                            <span class="bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full">Hard</span>
                        </div>
                        <p class="text-gray-600 mb-4">Required when your project doesn't comply with local zoning regulations.</p>
                        
                        <div class="flex justify-between text-sm mb-4">
                            <div>
                                <div class="font-medium text-gray-500">Approval Rate</div>
                                <div class="font-bold">42%</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Avg. Time</div>
                                <div class="font-bold">45 days</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Cost Range</div>
                                <div class="font-bold">$1k-$10k</div>
                            </div>
                        </div>
                        
                        <button class="w-full bg-blue-100 text-blue-600 py-2 rounded-lg font-medium hover:bg-blue-200 transition">
                            View Requirements
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- City Guides Section -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8">City-Specific Permit Guides</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1501594907352-04cda38ebc29?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="New York City" class="w-full h-40 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">New York City</h3>
                        <p class="text-gray-600 mb-4">Complex permit process with multiple agencies involved. Our guide simplifies the steps.</p>
                        <div class="flex justify-between text-sm mb-4">
                            <div>
                                <div class="font-medium text-gray-500">Avg. Time</div>
                                <div class="font-bold">62 days</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Permits</div>
                                <div class="font-bold">28 types</div>
                            </div>
                        </div>
                        <button class="w-full bg-gray-100 text-gray-800 py-2 rounded-lg font-medium hover:bg-gray-200 transition">
                            View City Guide
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Los Angeles" class="w-full h-40 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Los Angeles</h3>
                        <p class="text-gray-600 mb-4">Strict seismic and environmental requirements. Learn how to navigate them.</p>
                        <div class="flex justify-between text-sm mb-4">
                            <div>
                                <div class="font-medium text-gray-500">Avg. Time</div>
                                <div class="font-bold">38 days</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Permits</div>
                                <div class="font-bold">22 types</div>
                            </div>
                        </div>
                        <button class="w-full bg-gray-100 text-gray-800 py-2 rounded-lg font-medium hover:bg-gray-200 transition">
                            View City Guide
                        </button>
                    </div>
                </div>
                
                <div class="bg-white rounded-xl shadow-md overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1505761671935-60b3a7427bad?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Austin" class="w-full h-40 object-cover">
                    <div class="p-6">
                        <h3 class="text-xl font-bold mb-2">Austin, TX</h3>
                        <p class="text-gray-600 mb-4">Fast-growing city with evolving regulations. Stay compliant with our updated guides.</p>
                        <div class="flex justify-between text-sm mb-4">
                            <div>
                                <div class="font-medium text-gray-500">Avg. Time</div>
                                <div class="font-bold">21 days</div>
                            </div>
                            <div>
                                <div class="font-medium text-gray-500">Permits</div>
                                <div class="font-bold">18 types</div>
                            </div>
                        </div>
                        <button class="w-full bg-gray-100 text-gray-800 py-2 rounded-lg font-medium hover:bg-gray-200 transition">
                            View City Guide
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <button class="bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition">
                    Browse All 1,240 City Guides
                </button>
            </div>
        </section>

        <!-- Data Visualization Section -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold mb-8">Permit Approval Trends</h2>
            
            <div class="bg-white p-6 rounded-xl shadow-md">
                <div class="flex flex-col md:flex-row">
                    <div class="w-full md:w-1/2 mb-6 md:mb-0 md:pr-6">
                        <h3 class="text-xl font-bold mb-4">Approval Rates by Permit Type</h3>
                        <div class="chart-container">
                            <canvas id="approvalChart"></canvas>
                        </div>
                    </div>
                    <div class="w-full md:w-1/2 md:pl-6">
                        <h3 class="text-xl font-bold mb-4">Processing Times by City</h3>
                        <div class="chart-container">
                            <canvas id="timeChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Guide Generator -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-16">
            <h2 class="text-3xl font-bold mb-6">Generate Your Custom Permit Guide</h2>
            <p class="text-gray-600 mb-8">Answer a few questions and our AI will create a personalized guide for your specific project needs.</p>
            
            <div class="max-w-2xl mx-auto">
                <div id="guideSteps" class="space-y-6">
                    <!-- Step 1 -->
                    <div class="step active">
                        <h3 class="text-xl font-medium mb-4">1. What type of project are you working on?</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-home mr-2"></i> Residential Construction
                            </button>
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-building mr-2"></i> Commercial Construction
                            </button>
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-tools mr-2"></i> Renovation/Remodel
                            </button>
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-plug mr-2"></i> Electrical Work
                            </button>
                        </div>
                    </div>
                    
                    <!-- Step 2 (hidden initially) -->
                    <div class="step hidden">
                        <h3 class="text-xl font-medium mb-4">2. Where is your project located?</h3>
                        <div class="mb-4">
                            <input type="text" placeholder="Enter city or zip code" class="w-full py-3 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-map-marker-alt mr-2"></i> Use my current location
                            </button>
                        </div>
                    </div>
                    
                    <!-- Step 3 (hidden initially) -->
                    <div class="step hidden">
                        <h3 class="text-xl font-medium mb-4">3. What's the estimated project cost?</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-dollar-sign mr-2"></i> Under $10,000
                            </button>
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-dollar-sign mr-2"></i> $10,000 - $50,000
                            </button>
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-dollar-sign mr-2"></i> Over $50,000
                            </button>
                        </div>
                    </div>
                    
                    <!-- Step 4 (hidden initially) -->
                    <div class="step hidden">
                        <h3 class="text-xl font-medium mb-4">4. Do you need help with:</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-file-alt mr-2"></i> Application Forms
                            </button>
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-drafting-compass mr-2"></i> Architectural Plans
                            </button>
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-users mr-2"></i> Contractor Requirements
                            </button>
                            <button class="option-btn bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-lg text-left transition">
                                <i class="fas fa-calendar-check mr-2"></i> Inspection Scheduling
                            </button>
                        </div>
                    </div>
                    
                    <!-- Results (hidden initially) -->
                    <div id="guideResults" class="hidden">
                        <div class="bg-blue-50 border-l-4 border-blue-500 p-4 mb-6">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-blue-500 text-xl"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-blue-700">We're generating your personalized permit guide based on your answers.</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="animate-pulse bg-gray-200 rounded-lg h-8 w-3/4 mb-4"></div>
                        <div class="animate-pulse bg-gray-200 rounded-lg h-4 w-full mb-2"></div>
                        <div class="animate-pulse bg-gray-200 rounded-lg h-4 w-5/6 mb-2"></div>
                        <div class="animate-pulse bg-gray-200 rounded-lg h-4 w-2/3 mb-6"></div>
                        
                        <div class="animate-pulse bg-gray-200 rounded-lg h-8 w-1/2 mb-4"></div>
                        <div class="animate-pulse bg-gray-200 rounded-lg h-4 w-full mb-2"></div>
                        <div class="animate-pulse bg-gray-200 rounded-lg h-4 w-4/5 mb-6"></div>
                        
                        <div class="animate-pulse bg-gray-200 rounded-lg h-8 w-2/3 mb-4"></div>
                        <div class="animate-pulse bg-gray-200 rounded-lg h-4 w-full mb-2"></div>
                        <div class="animate-pulse bg-gray-200 rounded-lg h-4 w-3/4 mb-2"></div>
                        <div class="animate-pulse bg-gray-200 rounded-lg h-4 w-5/6 mb-6"></div>
                    </div>
                </div>
                
                <div class="flex justify-between mt-8">
                    <button id="prevBtn" class="bg-gray-200 text-gray-800 py-2 px-6 rounded-lg font-medium hover:bg-gray-300 transition opacity-0">
                        Back
                    </button>
                    <button id="nextBtn" class="bg-blue-600 text-white py-2 px-6 rounded-lg font-medium hover:bg-blue-700 transition">
                        Next
                    </button>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8 mb-8">
                <div>
                    <h3 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fas fa-hard-hat mr-2"></i> PermitAI
                    </h3>
                    <p class="text-gray-400">AI-powered construction permit assistance for homeowners, contractors, and developers.</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Permit Resources</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Permit Directory</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">City Guides</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Application Templates</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Checklists</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Support</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition">FAQ</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Contact Us</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Live Chat</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition">Feedback</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Connect</h4>
                    <div class="flex space-x-4 mb-4">
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl"><i class="fab fa-linkedin"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition text-xl"><i class="fab fa-instagram"></i></a>
                    </div>
                    <p class="text-gray-400">Subscribe to our newsletter</p>
                    <div class="mt-2 flex">
                        <input type="email" placeholder="Your email" class="py-2 px-4 rounded-l-lg focus:outline-none text-gray-800">
                        <button class="bg-blue-600 text-white py-2 px-4 rounded-r-lg hover:bg-blue-700 transition">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400 mb-4 md:mb-0">Â© 2023 PermitAI. All rights reserved.</p>
                <div class="flex space-x-6">
                    <a href="#" class="text-gray-400 hover:text-white transition">Privacy Policy</a>
                    <a href="#" class="text-gray-400 hover:text-white transition">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Search functionality
        const searchInput = document.getElementById('searchInput');
        const searchResults = document.getElementById('searchResults');
        
        const permitData = [
            { name: "Residential Building Permit", type: "permit", city: "All", category: "Construction" },
            { name: "Commercial Electrical Permit", type: "permit", city: "All", category: "Electrical" },
            { name: "Zoning Variance", type: "permit", city: "All", category: "Zoning" },
            { name: "Demolition Permit", type: "permit", city: "All", category: "Construction" },
            { name: "Plumbing Permit", type: "permit", city: "All", category: "Plumbing" },
            { name: "New York City", type: "city", state: "NY" },
            { name: "Los Angeles", type: "city", state: "CA" },
            { name: "Chicago", type: "city", state: "IL" },
            { name: "Houston", type: "city", state: "TX" },
            { name: "Phoenix", type: "city", state: "AZ" }
        ];
        
        searchInput.addEventListener('input', function() {
            const query = this.value.toLowerCase();
            
            if (query.length < 2) {
                searchResults.classList.add('hidden');
                return;
            }
            
            const results = permitData.filter(item => 
                item.name.toLowerCase().includes(query)
            );
            
            if (results.length > 0) {
                let html = '';
                results.forEach(item => {
                    const icon = item.type === 'permit' ? 'fa-file-alt' : 'fa-city';
                    const badge = item.type === 'permit' ? 
                        `<span class="bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full ml-2">${item.category}</span>` : 
                        `<span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full ml-2">${item.state}</span>`;
                    
                    html += `
                        <div class="p-4 hover:bg-gray-100 cursor-pointer border-b border-gray-200 last:border-b-0 flex items-center">
                            <i class="fas ${icon} text-blue-500 mr-3"></i>
                            <div>
                                <div class="font-medium">${item.name}</div>
                                <div class="text-sm text-gray-500">${item.type === 'permit' ? 'Permit Type' : 'City Guide'} ${badge}</div>
                            </div>
                        </div>
                    `;
                });
                
                searchResults.innerHTML = html;
                searchResults.classList.remove('hidden');
            } else {
                searchResults.innerHTML = `
                    <div class="p-4 text-gray-500">
                        No results found for "${query}"
                    </div>
                `;
                searchResults.classList.remove('hidden');
            }
        });
        
        // Close search results when clicking outside
        document.addEventListener('click', function(e) {
            if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                searchResults.classList.add('hidden');
            }
        });
        
        // Guide generator steps
        const steps = document.querySelectorAll('.step');
        const nextBtn = document.getElementById('nextBtn');
        const prevBtn = document.getElementById('prevBtn');
        let currentStep = 0;
        
        nextBtn.addEventListener('click', function() {
            if (currentStep < steps.length - 2) { // -2 because last step is results
                steps[currentStep].classList.add('hidden');
                steps[currentStep].classList.remove('active');
                currentStep++;
                steps[currentStep].classList.remove('hidden');
                steps[currentStep].classList.add('active');
                
                prevBtn.classList.remove('opacity-0');
                
                if (currentStep === steps.length - 2) {
                    nextBtn.textContent = 'Generate Guide';
                }
            } else if (currentStep === steps.length - 2) {
                // Generate guide
                steps[currentStep].classList.add('hidden');
                steps[currentStep].classList.remove('active');
                document.getElementById('guideResults').classList.remove('hidden');
                nextBtn.classList.add('hidden');
                prevBtn.classList.add('hidden');
                
                // Simulate AI processing
                setTimeout(() => {
                    document.getElementById('guideResults').innerHTML = `
                        <div class="bg-green-50 border-l-4 border-green-500 p-4 mb-6">
                            <div class="flex">
                                <div class="flex-shrink-0">
                                    <i class="fas fa-check-circle text-green-500 text-xl"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-green-700">Your personalized permit guide is ready!</p>
                                </div>
                            </div>
                        </div>
                        
                        <h3 class="text-xl font-bold mb-4">Residential Construction Permit Guide for Austin, TX</h3>
                        
                        <div class="mb-6">
                            <h4 class="font-bold mb-2 text-lg">1. Required Permits</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-700">
                                <li>Building Permit (Primary)</li>
                                <li>Electrical Permit</li>
                                <li>Plumbing Permit</li>
                                <li>Mechanical Permit (if applicable)</li>
                            </ul>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="font-bold mb-2 text-lg">2. Application Process</h4>
                            <p class="text-gray-700 mb-2">Austin uses a consolidated permit application system:</p>
                            <ol class="list-decimal pl-5 space-y-1 text-gray-700">
                                <li>Submit completed application form (available online)</li>
                                <li>Include 2 sets of construction drawings</li>
                                <li>Pay application fee ($250 base + project value-based fee)</li>
                                <li>Wait for review (typically 14-21 business days)</li>
                            </ol>
                        </div>
                        
                        <div class="mb-6">
                            <h4 class="font-bold mb-2 text-lg">3. Required Documents</h4>
                            <ul class="list-disc pl-5 space-y-1 text-gray-700">
                                <li>Site plan showing property lines and structure location</li>
                                <li>Construction drawings signed by a Texas-registered architect</li>
                                <li>Energy compliance documentation</li>
                                <li>Contractor license information</li>
                            </ul>
                        </div>
                        
                        <div class="bg-blue-50 p-4 rounded-lg">
                            <h4 class="font-bold mb-2 text-blue-800">Success Tip</h4>
                            <p class="text-blue-700">Applications submitted with complete documentation have a 89% approval rate on first submission compared to 62% for incomplete applications.</p>
                        </div>
                        
                        <div class="mt-8 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                            <button class="bg-blue-600 text-white py-2 px-6 rounded-lg font-medium hover:bg-blue-700 transition flex-1">
                                <i class="fas fa-download mr-2"></i> Download PDF Guide
                            </button>
                            <button class="bg-white border border-blue-600 text-blue-600 py-2 px-6 rounded-lg font-medium hover:bg-blue-50 transition flex-1">
                                <i class="fas fa-envelope mr-2"></i> Email This Guide
                            </button>
                        </div>
                    `;
                }, 2000);
            }
        });
        
        prevBtn.addEventListener('click', function() {
            if (currentStep > 0) {
                steps[currentStep].classList.add('hidden');
                steps[currentStep].classList.remove('active');
                currentStep--;
                steps[currentStep].classList.remove('hidden');
                steps[currentStep].classList.add('active');
                
                nextBtn.textContent = 'Next';
                
                if (currentStep === 0) {
                    prevBtn.classList.add('opacity-0');
                }
            }
        });
        
        // Option buttons in guide generator
        document.querySelectorAll('.option-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // Remove active class from all buttons in this step
                this.parentNode.querySelectorAll('.option-btn').forEach(b => {
                    b.classList.remove('bg-blue-100', 'text-blue-800', 'border-blue-300');
                    b.classList.add('bg-gray-100', 'text-gray-800');
                });
                
                // Add active class to clicked button
                this.classList.add('bg-blue-100', 'text-blue-800', 'border-blue-300');
                this.classList.remove('bg-gray-100', 'text-gray-800');
            });
        });
        
        // Charts
        const approvalCtx = document.getElementById('approvalChart').getContext('2d');
        const approvalChart = new Chart(approvalCtx, {
            type: 'bar',
            data: {
                labels: ['Residential', 'Commercial', 'Electrical', 'Plumbing', 'HVAC', 'Demolition', 'Zoning'],
                datasets: [{
                    label: 'Approval Rate (%)',
                    data: [92, 78, 85, 88, 82, 95, 42],
                    backgroundColor: [
                        'rgba(54, 162, 235, 0.7)',
                        'rgba(255, 99, 132, 0.7)',
                        'rgba(255, 159, 64, 0.7)',
                        'rgba(75, 192, 192, 0.7)',
                        'rgba(153, 102, 255, 0.7)',
                        'rgba(201, 203, 207, 0.7)',
                        'rgba(255, 205, 86, 0.7)'
                    ],
                    borderColor: [
                        'rgb(54, 162, 235)',
                        'rgb(255, 99, 132)',
                        'rgb(255, 159, 64)',
                        'rgb(75, 192, 192)',
                        'rgb(153, 102, 255)',
                        'rgb(201, 203, 207)',
                        'rgb(255, 205, 86)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 100,
                        title: {
                            display: true,
                            text: 'Approval Rate (%)'
                        }
                    }
                }
            }
        });
        
        const timeCtx = document.getElementById('timeChart').getContext('2d');
        const timeChart = new Chart(timeCtx, {
            type: 'line',
            data: {
                labels: ['New York', 'Los Angeles', 'Chicago', 'Houston', 'Phoenix', 'Philadelphia', 'San Antonio'],
                datasets: [{
                    label: 'Average Processing Time (days)',
                    data: [62, 38, 45, 28, 32, 51, 26],
                    fill: false,
                    borderColor: 'rgb(75, 192, 192)',
                    tension: 0.1,
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    borderWidth: 2,
                    pointBackgroundColor: 'rgb(75, 192, 192)',
                    pointRadius: 5,
                    pointHoverRadius: 7
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Processing Time (days)'
                        }
                    }
                }
            }
        });
    </script>
<p style="border-radius: 8px; text-align: center; font-size: 12px; color: #fff; margin-top: 16px;position: fixed; left: 8px; bottom: 8px; z-index: 10; background: rgba(0, 0, 0, 0.8); padding: 4px 8px;">Made with <img src="https://enzostvs-deepsite.hf.space/logo.svg" alt="DeepSite Logo" style="width: 16px; height: 16px; vertical-align: middle;display:inline-block;margin-right:3px;filter:brightness(0) invert(1);"><a href="https://enzostvs-deepsite.hf.space" style="color: #fff;text-decoration: underline;" target="_blank" >DeepSite</a> - ðŸ§¬ <a href="https://enzostvs-deepsite.hf.space?remix=powder677/permitai" style="color: #fff;text-decoration: underline;" target="_blank" >Remix</a></p></body>
</html>